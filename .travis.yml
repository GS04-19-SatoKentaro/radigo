language: go

go:
  - 1.6.3
  - 1.7.3
  - master

env:
  - TEST_DIR=/tmp/radigo

sudo: required

cache:
  directories:
    - ./vendor

before_install:
  - yes | sudo add-apt-repository ppa:masterminds/glide
  - sudo apt-get update
  - sudo apt-get install glide

before_script:
  - glide i
  - make init

script:
  - make test-cover

after_success:
  - bash <(curl -s https://codecov.io/bash)
